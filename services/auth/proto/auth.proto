syntax = "proto3";
package authRpc;
option go_package = "./authRpc";

service AuthService{
  rpc Authentication(AuthenticationReq) returns (AuthenticationResp){}//鉴权
  rpc RefreshSession(RefreshSessionReq) returns(RefreshSessionResp){}//续约session
  rpc DeleteSession(DeleteSessionReq) returns (DeleteSessionResp){}//删除session
  rpc CreateVoucher(CreateVoucherReq) returns (CreateVoucherResp){} //创建session和token
  rpc IsActive(IsActiveReq)returns(IsActiveResp){} //活跃判断
}

message AuthenticationReq{
  string sessionId = 1;
  string token = 2;
}

message AuthenticationResp{
  bool pass = 1;
  string token = 2;
}

message RefreshSessionReq{
  string sessionId = 1;
}

message DeleteSessionReq{
  string sessionId=1;
}

message DeleteSessionResp{
}

message RefreshSessionResp{
  bool ok = 1;
  string token = 2;
}

message CreateVoucherReq{
  int64 userId =1;
}

message CreateVoucherResp{
  bool ok = 1;
  string sessionId = 2;
  string token = 3;
}

message IsActiveReq{
  int64 userId=1;
}

message IsActiveResp{
  bool is=1;
}
